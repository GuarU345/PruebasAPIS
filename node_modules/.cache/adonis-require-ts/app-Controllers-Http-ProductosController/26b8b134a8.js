"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const axios = require('axios');
const Database_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Lucid/Database"));
const Pokemon_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Pokemon"));
const Producto_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Producto"));
class ProductosController {
    async crearProducto({ request, response }) {
        const producto = request.input(['nom_producto']);
        const precio = request.input(['precio']);
        const nuevo = new Producto_1.default();
        nuevo.nom_producto = producto;
        nuevo.precio = precio;
        nuevo.save();
        return response.json({ nuevo });
    }
    async consultaProducto() {
        const producto = Producto_1.default.all();
        return producto;
    }
    async consultaRegistro() {
        await axios.get('https://pokeapi.co/api/v2/pokemon?limit=151').then((resp) => {
            const x = resp.data.results;
            Pokemon_1.default.createMany(x);
            console.log("datos insertados correctamente");
        });
    }
    async eliminarPokemon({ request }) {
        const pokemon = request.input('name');
        const consulta = await Database_1.default.from('pokemon').delete('*').where('nom_pokemon', '=', pokemon);
        const mensaje = "pokemon eliminado correctamente";
        return mensaje;
    }
    async filtrado({ request }) {
        const buscar = request.input('name');
        const consulta = await Database_1.default.from('pokemon').select('*').where('nom_pokemon', 'LIKE', '%' + buscar + '%');
        return consulta;
    }
    async paginacion() {
        const consulta = Database_1.default.rawQuery('select* from pokemon order by(id)DESC limit 10');
        return consulta;
    }
    async consulta() {
        const consulta = await Database_1.default.from('pokemon').select('*').where('nom_pokemon', '=', 'mewtwo');
        return consulta;
    }
    async filtrarcomida({ request }) {
        const nom_producto = request.input('producto');
        const consulta = await Database_1.default.from('productos').select('*').where('nom_producto', 'LIKE', '%' + nom_producto + '%');
        return consulta;
    }
}
exports.default = ProductosController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJvZHVjdG9zQ29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlByb2R1Y3Rvc0NvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxNQUFNLEtBQUssR0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFHNUIsMkZBQWlEO0FBQ2pELHVGQUF3QztBQUN4Qyx5RkFBMEM7QUFHMUMsTUFBcUIsbUJBQW1CO0lBQzdCLEtBQUssQ0FBQyxhQUFhLENBQUMsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDO1FBRTNDLE1BQU0sUUFBUSxHQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFBO1FBQzlDLE1BQU0sTUFBTSxHQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFBO1FBRXRDLE1BQU0sS0FBSyxHQUFDLElBQUksa0JBQVEsRUFBRSxDQUFBO1FBQzFCLEtBQUssQ0FBQyxZQUFZLEdBQUMsUUFBUSxDQUFBO1FBQzNCLEtBQUssQ0FBQyxNQUFNLEdBQUMsTUFBTSxDQUFBO1FBRW5CLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQTtRQUNaLE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFDLEtBQUssRUFBQyxDQUFDLENBQUE7SUFDL0IsQ0FBQztJQUNNLEtBQUssQ0FBQyxnQkFBZ0I7UUFDekIsTUFBTSxRQUFRLEdBQUMsa0JBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQTtRQUM3QixPQUFPLFFBQVEsQ0FBQTtJQUNuQixDQUFDO0lBQ00sS0FBSyxDQUFDLGdCQUFnQjtRQUMzQixNQUFNLEtBQUssQ0FBQyxHQUFHLENBQUMsNkNBQTZDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUMsRUFBRTtZQUMxRSxNQUFNLENBQUMsR0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQTtZQUN6QixpQkFBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUNyQixPQUFPLENBQUMsR0FBRyxDQUFDLGdDQUFnQyxDQUFDLENBQUE7UUFDL0MsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDO0lBQ00sS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUFDLE9BQU8sRUFBQztRQUNwQyxNQUFNLE9BQU8sR0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ25DLE1BQU0sUUFBUSxHQUFDLE1BQU0sa0JBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUMsR0FBRyxFQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQzFGLE1BQU0sT0FBTyxHQUFDLGlDQUFpQyxDQUFBO1FBQy9DLE9BQU8sT0FBTyxDQUFBO0lBQ2hCLENBQUM7SUFDTSxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUMsT0FBTyxFQUFzQjtRQUNoRCxNQUFNLE1BQU0sR0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ2xDLE1BQU0sUUFBUSxHQUFDLE1BQU0sa0JBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUUsTUFBTSxFQUFFLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUE7UUFDMUcsT0FBTyxRQUFRLENBQUE7SUFDbkIsQ0FBQztJQUNNLEtBQUssQ0FBQyxVQUFVO1FBQ3JCLE1BQU0sUUFBUSxHQUFDLGtCQUFRLENBQUMsUUFBUSxDQUFDLGdEQUFnRCxDQUFDLENBQUE7UUFDbEYsT0FBTyxRQUFRLENBQUE7SUFDakIsQ0FBQztJQUNNLEtBQUssQ0FBQyxRQUFRO1FBQ25CLE1BQU0sUUFBUSxHQUFDLE1BQU0sa0JBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFBO1FBQzdGLE9BQU8sUUFBUSxDQUFBO0lBQ2pCLENBQUM7SUFDTSxLQUFLLENBQUMsYUFBYSxDQUFDLEVBQUMsT0FBTyxFQUFxQjtRQUNyRCxNQUFNLFlBQVksR0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzVDLE1BQU0sUUFBUSxHQUFDLE1BQU0sa0JBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsTUFBTSxFQUFFLEdBQUcsR0FBRyxZQUFZLEdBQUcsR0FBRyxDQUFDLENBQUE7UUFDbkgsT0FBTyxRQUFRLENBQUE7SUFDbEIsQ0FBQztDQUdKO0FBbERELHNDQWtEQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgSHR0cENvbnRleHRDb250cmFjdCB9IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvSHR0cENvbnRleHQnXG5jb25zdCBheGlvcz1yZXF1aXJlKCdheGlvcycpXG5cblxuaW1wb3J0IERhdGFiYXNlIGZyb20gXCJAaW9jOkFkb25pcy9MdWNpZC9EYXRhYmFzZVwiXG5pbXBvcnQgUG9rZW1vbiBmcm9tIFwiQXBwL01vZGVscy9Qb2tlbW9uXCJcbmltcG9ydCBQcm9kdWN0byBmcm9tIFwiQXBwL01vZGVscy9Qcm9kdWN0b1wiXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdG9zQ29udHJvbGxlciB7XG4gICAgcHVibGljIGFzeW5jIGNyZWFyUHJvZHVjdG8oe3JlcXVlc3QscmVzcG9uc2V9KXtcblxuICAgICAgY29uc3QgcHJvZHVjdG89cmVxdWVzdC5pbnB1dChbJ25vbV9wcm9kdWN0byddKVxuICAgICAgY29uc3QgcHJlY2lvPXJlcXVlc3QuaW5wdXQoWydwcmVjaW8nXSlcblxuICAgICAgY29uc3QgbnVldm89bmV3IFByb2R1Y3RvKClcbiAgICAgIG51ZXZvLm5vbV9wcm9kdWN0bz1wcm9kdWN0b1xuICAgICAgbnVldm8ucHJlY2lvPXByZWNpb1xuXG4gICAgICBudWV2by5zYXZlKClcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKHtudWV2b30pXG4gICAgfVxuICAgIHB1YmxpYyBhc3luYyBjb25zdWx0YVByb2R1Y3RvKCl7XG4gICAgICAgIGNvbnN0IHByb2R1Y3RvPVByb2R1Y3RvLmFsbCgpXG4gICAgICAgIHJldHVybiBwcm9kdWN0b1xuICAgIH1cbiAgICBwdWJsaWMgYXN5bmMgY29uc3VsdGFSZWdpc3Rybygpe1xuICAgICAgYXdhaXQgYXhpb3MuZ2V0KCdodHRwczovL3Bva2VhcGkuY28vYXBpL3YyL3Bva2Vtb24/bGltaXQ9MTUxJykudGhlbigocmVzcCk9PntcbiAgICAgICAgY29uc3QgeD1yZXNwLmRhdGEucmVzdWx0c1xuICAgICAgICBQb2tlbW9uLmNyZWF0ZU1hbnkoeClcbiAgICAgICAgY29uc29sZS5sb2coXCJkYXRvcyBpbnNlcnRhZG9zIGNvcnJlY3RhbWVudGVcIilcbiAgICAgIH0pXG4gICAgfVxuICAgIHB1YmxpYyBhc3luYyBlbGltaW5hclBva2Vtb24oe3JlcXVlc3R9KXtcbiAgICAgIGNvbnN0IHBva2Vtb249cmVxdWVzdC5pbnB1dCgnbmFtZScpXG4gICAgICBjb25zdCBjb25zdWx0YT1hd2FpdCBEYXRhYmFzZS5mcm9tKCdwb2tlbW9uJykuZGVsZXRlKCcqJykud2hlcmUoJ25vbV9wb2tlbW9uJywnPScscG9rZW1vbilcbiAgICAgIGNvbnN0IG1lbnNhamU9XCJwb2tlbW9uIGVsaW1pbmFkbyBjb3JyZWN0YW1lbnRlXCJcbiAgICAgIHJldHVybiBtZW5zYWplXG4gICAgfVxuICAgIHB1YmxpYyBhc3luYyBmaWx0cmFkbyh7cmVxdWVzdH06IEh0dHBDb250ZXh0Q29udHJhY3Qpe1xuICAgICAgICBjb25zdCBidXNjYXI9cmVxdWVzdC5pbnB1dCgnbmFtZScpXG4gICAgICAgIGNvbnN0IGNvbnN1bHRhPWF3YWl0IERhdGFiYXNlLmZyb20oJ3Bva2Vtb24nKS5zZWxlY3QoJyonKS53aGVyZSgnbm9tX3Bva2Vtb24nLCAnTElLRScgLCclJyArIGJ1c2NhciArICclJylcbiAgICAgICAgcmV0dXJuIGNvbnN1bHRhXG4gICAgfVxuICAgIHB1YmxpYyBhc3luYyBwYWdpbmFjaW9uKCl7XG4gICAgICBjb25zdCBjb25zdWx0YT1EYXRhYmFzZS5yYXdRdWVyeSgnc2VsZWN0KiBmcm9tIHBva2Vtb24gb3JkZXIgYnkoaWQpREVTQyBsaW1pdCAxMCcpXG4gICAgICByZXR1cm4gY29uc3VsdGFcbiAgICB9XG4gICAgcHVibGljIGFzeW5jIGNvbnN1bHRhKCl7XG4gICAgICBjb25zdCBjb25zdWx0YT1hd2FpdCBEYXRhYmFzZS5mcm9tKCdwb2tlbW9uJykuc2VsZWN0KCcqJykud2hlcmUoJ25vbV9wb2tlbW9uJywgJz0nICwnbWV3dHdvJylcbiAgICAgIHJldHVybiBjb25zdWx0YVxuICAgIH1cbiAgICBwdWJsaWMgYXN5bmMgZmlsdHJhcmNvbWlkYSh7cmVxdWVzdH06SHR0cENvbnRleHRDb250cmFjdCl7XG4gICAgICAgY29uc3Qgbm9tX3Byb2R1Y3RvPXJlcXVlc3QuaW5wdXQoJ3Byb2R1Y3RvJylcbiAgICAgICBjb25zdCBjb25zdWx0YT1hd2FpdCBEYXRhYmFzZS5mcm9tKCdwcm9kdWN0b3MnKS5zZWxlY3QoJyonKS53aGVyZSgnbm9tX3Byb2R1Y3RvJywgJ0xJS0UnICwnJScgKyBub21fcHJvZHVjdG8gKyAnJScpXG4gICAgICAgcmV0dXJuIGNvbnN1bHRhXG4gICAgfVxuICAgXG5cbn1cbiJdfQ==